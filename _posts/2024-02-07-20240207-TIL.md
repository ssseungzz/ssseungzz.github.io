---
title: "2024 년 2 월 7 일 TIL"
categories:
  - TIL
tags:
toc: true
toc_label: "Contents"
toc_sticky: true
---

#### 오늘 한 일

* 버그 픽스 작업 및 간단 소소한 작업
* 이펙티브 자바 아이템 48(스트림의 병렬화는 주의해서 사용하라) 읽기
  * 병렬화는 어지간해서는 성능을 높이기 어렵고 병렬화하는 게 낫다고 하더라도 확실하게 테스트하는 편이 좋다.

* 이펙티브 자바 아이템 49(매개변수가 유효한지 검사하라) 읽기
  * 메서드나 생성자를 작성할 때면 매개변수들에 어떤 제약이 있을지 생각해야 한다. 백 번 들어도 지켜지지 않을 때가 있지만 정말 중요한 말...




#### 느낀 점

* 기존에 계속 `null`로 들어가던 필드에 기본값을 저장하도록 (이것도 의도한 건 아니었어서 더 제대로 봤어야 했다...) 코드를 수정하면서 select and update가 발생하는 바람에 `OptimisticLocking` 에러가 발생하는 버그가 있었다. 사실 필드 자체가 쓰이는 데가 없어서 아예 빠지는 게 맞을 것 같은데, 오래된 코드다 보니 다른 작업에 밀려 유지되었고 결국 이런 사태가 발생했다. 1차적으로는 요청 필드에 들어갈 수 있는 여러 가지 경우의 값과 그 결과를 생각하지 않은 내 잘못이지만 ^_^... 하여튼 기본값을 설정할 때는 기존에는 주로 어떤 값이 전달되었는지 잘 보고 수정하도록 해야겠다.