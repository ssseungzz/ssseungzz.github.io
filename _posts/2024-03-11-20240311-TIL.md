---
title: "2024 년 3 월 11 일 TIL"
categories:
  - TIL
tags:
toc: true
toc_label: "Contents"
toc_sticky: true

---

#### 오늘 한 일

* 기존에 하고 있던 작업에서 쿼리는 그대로 두고 파라미터를 바꿔서 조회를 조금 더 효율적으로 하는 방법을 알아서 수정했다! 다행히 키 중에 하나가 타임스탬프 기반이고 수정도 타임스탬프를 기반으로 해야 하는 거라 가능했다. 타임스탬프 기반인 걸 완전히 잊고 있었음....... 리뷰 아니었으면 그냥 애플리케이션에서 바꿀 뻔함.
* 이펙티브 자바 아이템 80(스레드보다는 실행자, 태스트, 스트림을 애용하라) 읽기
  * 실행자 프레임워크는 인터페이스 기반의 유연한 태스크 실행 기능을 담고 있다. 작업 큐를 손수 만드는 일은 삼가야 하고, 스레드를 직접 다루는 일도 일반적으로 삼가야 한다. 실행자 프레임워크에서는 작업 단위와 실행 매커니즘이 분리된다. 작업 단위를 나타내는 핵심 추상 개념이 태스크다. 그리고 태스크를 수행하는 일반적인 매커니즘이 바로 실행자 서비스다. 태스크 수행을 실행자 서비스에 맡기면 원하는 태스크 수행 정책을 선택할 수 있고, 언제든 변경 가능하다. 실행자 프레임워크가 작업 수행을 담당해 주는 것이다.
* 이펙티브 자바 아이템 81(`wait`와 `notify`보다는 동시성 유틸리티를 애용하라)
  * `wait`와 `notify`는 올바르게 사용하기 어려우니 고수준 동시성 유틸리티를 사용하자. 만약 `wait` 메서드를 사용할 일이 있다면 반드시 대기 반복문 관용구를 사용하고 반복문 밖에서는 절대로 호출하지 말자. 스레드를 깨울 때에는 일반적으로 `notifyAll` 을 사용하는 게 합리적이고 안전하다. 깨어나야 하는 모든 스레드가 깨어남을 보장하니 항상 정확한 결과를 얻을 것이다.
  * 동시성 유틸리티 중 하나인 동시성 컬렉션은 높은 동시성에 도달하기 위해 동기화를 각자의 내부에서 수행한다. 따라서 동시성을 무력화하는 게 불가하며, 외부에서 락을 추가로 사용 시 속도가 느려진다.




#### 느낀 점

* 수정 전에 기존에 쓰던 게 어디서 왔는지 잘 살펴보도록 하자.