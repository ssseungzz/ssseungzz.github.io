---
title: "2024 년 3 월 13 일 TIL"
categories:
  - TIL
tags:
toc: true
toc_label: "Contents"
toc_sticky: true

---

#### 오늘 한 일

* 기존 캐시 개선 데이터 구조 설계 완료 - 코드 살펴보면서 이펙티브 자바에 안 좋은 예시로 나올 법한 코드도 발견해서 수정하기로 했다...... ^^
* 이펙티브 자바 아이템 84(프로그램의 동작을 스레드 스케줄러에 기대지 말라) 읽기
  * 정확성이나 성능이 스레드 스케줄러에 따라 달라지는 프로그램이라면 다른 플랫폼에 이식하기 어렵다. 스레드는 당장 처리해야 할 작업이 없다면 실행되어서는 안 된다. 스레드는 절대 바쁜 대기 상태, 즉 공유 객체의 상태가 바뀔 때까지 쉬지 않고 검사하는 상태가 되어서는 안 된다. `Thread.yield` 와 스레드 우선순위에 의존하는 것도 마찬가지로 프로그램의 견고성과 이식성을 해친다.





#### 느낀 점

* 패턴 검색을 사용하지 않음 + 논리적으로도 (데이터의 중복이 생길 수는 있지만) 데이터가 추가되는 게 맞는 것 같아 그 방향으로 결정했다. `scan` 이 성능이 나오지 않는다는 건 지표로도 확인이 됐으니까 앞으로도 매우 주의해서 그냥 없는 기능이다 생각하고 최대한 피해야겠다.