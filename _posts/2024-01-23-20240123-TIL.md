---
title: "2024 년 1 월 23 일 TIL"
categories:
  - TIL
tags:
toc: true
toc_label: "Contents"
toc_sticky: true
---

#### 오늘 한 일

* 요청 파라미터 작업 수정 및 캐시 전환 작업 로그 추가까지 완료



#### 느낀 점

* 단순한 요청 파라미터지만 좀 더 읽기 좋도록 관련 있는 필드끼리 묶어 주었는데, 이렇게 별거 아닌 걸로도 가독성이 나아지는 게 보였다. 역시 악마는 디테일에 있다..........
* 캐시 로그 추가는 처음에 `CacheInterceptor`로 하려 했는데, 실제로 적용해 보니 내부적으로 여러 곳에서 쓰이는지 의도하지 않은 곳에서도 로그가 찍혀서 AOP를 사용하는 걸로 수정했다.
  * `Cacheable` 어노테이션을 포인트 컷으로 해서 적용해 보니 로그가 찍히지 않는 문제가 있었다.
  * 찾아보니 aspect가 여러 개인 경우 순서를 지정해 주지 않으면 적용이 안 되는 경우가 있다고 한다. 그래서 `Order` 어노테이션으로 순서를 지정해 주니 잘 뜸. 아마 `Cacheable` 어노테이션도 AOP로 적용되어서 그런 게 아닐까 싶었다.